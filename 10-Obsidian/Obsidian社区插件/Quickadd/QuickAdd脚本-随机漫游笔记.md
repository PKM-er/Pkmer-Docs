---
uid: 20240225172801
title: QuickAdd è„šæœ¬ - éšæœºæ¼«æ¸¸ç¬”è®°
tags: [éšæœºæ¼«æ¸¸, éšæœºæ€§]
description: éšæœºæ‰“å¼€åº“é‡Œçš„ä¸€ç¯‡ç¬”è®°
author: calmwaves
type: other
draft: false
editable: false
modified: 20240225173527
---

# QuickAdd è„šæœ¬ - éšæœºæ¼«æ¸¸ç¬”è®°

## å‰è¨€

éšæœºç¬”è®°æ˜¯å¾ˆæœ‰ä¹è¶£çš„ï¼šå¾ˆå¤šç”¨æˆ·å‘çŽ°è¿™ä¸ªåŠŸèƒ½èƒ½è®©ä»–ä»¬é‡æ–°æƒ³èµ·é‚£äº›å·²ç»é—å¿˜äº†çš„æƒ³æ³•ï¼Œä»Žè€Œå°†è¿™äº›æƒ³æ³•åˆ©ç”¨èµ·æ¥ã€‚å®ƒè¿˜ç»™å¤§è„‘å¸¦æ¥ä¸Žæˆ‘ä»¬æ²‰è¿·äºŽç¤¾äº¤åª’ä½“ç›¸åŒçš„åˆºæ¿€ã€‚

éšæœºæ¼«æ¸¸ç¬”è®°æ˜¯ä¸€ç§å……æ»¡æƒŠå–œå’Œå‘çŽ°çš„ç¬”è®°æ–¹å¼ã€‚å®ƒä¸åŒäºŽä¼ ç»Ÿçš„ç¬”è®°ç³»ç»Ÿï¼Œæ²¡æœ‰ä¸¥æ ¼çš„åˆ†ç±»å’Œç»“æž„ï¼Œè€Œæ˜¯è®©ä½ çš„ç¬”è®°åƒä¸€é¢—é¢—æ•£è½çš„ç§å­ï¼Œåœ¨å¿ƒçµçš„åŽŸé‡Žä¸Šè‡ªç”±ç”Ÿé•¿ã€‚å®ƒåƒä¸€ä¸ªç¥žå¥‡çš„æŒ‡å—é’ˆï¼ŒæŒ‡å¼•ä½ èµ°å‘è¢«é—å¿˜çš„ç”°é‡Žã€‚åœ¨éšæœºæ¼«æ¸¸çš„è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½ä¼šå¶ç„¶å‘çŽ°ä¸€äº›æ„æƒ³ä¸åˆ°çš„è”ç³»ï¼Œè¿™äº›è”ç³»æˆ–è®¸èƒ½æ¿€å‘å‡ºæ–°çš„çµæ„Ÿï¼Œæˆ–è€…è§£å†³ä¸€ç›´å›°æ‰°ä½ çš„é—®é¢˜ã€‚

æ ¸å¿ƒæ’ä»¶ [[æ¼«æ¸¸ç¬”è®°]] çš„æ¼«æ¸¸èŒƒå›´æ˜¯å…¨åº“ï¼Œå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³éšæœºæ¼«æ¸¸åˆ°æŸäº›ç¬”è®°

å·²ç»æœ‰ä¸€äº›æ’ä»¶å¯¹æ­¤è¿›è¡Œäº†ä¼˜åŒ–ï¼š[[advanced-random-note]]ï¼Œ[[improved-random-note]]ï¼Œ[[canvas-randomnote]]ï¼Œ[[smart-random-note]]

è¿˜æœ‰ Â [[obsidian-spotlight]] æ’ä»¶ï¼Œå¯ä»¥å°†éšæœºçš„ç²’åº¦ç¼©å°åˆ°å— a block of note

è€Œæˆ‘ä½¿ç”¨è‡ªå·±å†™çš„è„šæœ¬ï¼Œæ—¢å°‘è£…ä¸ªæ’ä»¶ï¼Œè€Œä¸”å¯æŽ§æ€§é«˜ï¼Œè‡ªç”±ç­›é€‰ï¼Œæ·»åŠ ä¸€äº›ä¸ªæ€§åŒ–åŠŸèƒ½

## åŠŸèƒ½

1. å¯æŒ‰ç…§æ–‡ä»¶å¤¹ç­›é€‰æ¼«æ¸¸èŒƒå›´
2. ä¸è€ƒè™‘ç¬”è®°çš„æ–°å¢ž/åˆ é™¤/ä¿®æ”¹ï¼Œæ¯ä¸€æ¬¡éšæœºéƒ½æ˜¯ç‹¬ç«‹çš„
3. æœ€è¿‘åŠä¸ªæœˆå›žé¡¾è¿‡çš„ä¸è¦é‡å¤å›žé¡¾ï¼šæŠŠå›žé¡¾æ—¶é—´å†™è¿›ç¬”è®°çš„ properties é‡Œ Â `random_review_dateÂ ðŸ“‹`ï¼Œç„¶åŽåœ¨ç­›é€‰æ—¶è¿›è¡Œæ¯”è¾ƒ

## ä»£ç 

```js
module.exports = async (params) => {
    const currentDate = new Date();
    const halfMonthAgo = new Date(
        currentDate.getTime() - 15 * 24 * 60 * 60 * 1000
    );

    const files = app.vault
        .getMarkdownFiles()
        .filter((f) => f.path.startsWith("4-zettelkasten/")) //æ›´æ”¹ç›®æ ‡æ–‡ä»¶å¤¹
        .filter((f) => {
            const reviewDate =
                app.metadataCache.getFileCache(f).frontmatter
                    .random_review_date;
            return (
                !reviewDate ||
                reviewDate == null ||
                new Date(reviewDate) <= halfMonthAgo
            );
        });

    if (files.length == 0) {
        new Notice("æ²¡æœ‰è¿‘åŠä¸ªæœˆæœªæ¼«æ¸¸çš„ç¬”è®°");
        return;
    }

    const randomIndex = Math.floor(Math.random() * files.length);
    const randomFile = files[randomIndex];
    app.workspace.openLinkText(randomFile.path, "");
    const KEY = "random_review_date";
    app.fileManager.processFrontMatter(randomFile, (fm) => {
        fm[KEY] = currentDate.toISOString().slice(0, 10);
    });
};
```
