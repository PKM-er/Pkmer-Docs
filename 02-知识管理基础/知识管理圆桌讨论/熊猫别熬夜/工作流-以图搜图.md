---
uid: 20230925114907
title: ç¡¬æ ¸å·¥ä½œæµï¼šå®ç°ä»¥å›¾æœå›¾
tags: [å·¥ä½œæµ, ä»¥å›¾æœå›¾, Zotero, Billfish, Excalidraw, Eagle, PDF, Python]
description: 
author: ç†ŠçŒ«åˆ«ç†¬å¤œ
type: other
draft: false
editable: false
modified: 20231005231632
---

# ç¡¬æ ¸å·¥ä½œæµï¼šå®ç°ä»¥å›¾æœå›¾

![8f4c85d2be870b6e072708e2dc7f8a35.png](https://cdn.pkmer.cn/images/8f4c85d2be870b6e072708e2dc7f8a35.png!pkmer)

## å¼•è¨€ï¼šè¯é¢˜çš„å¼€å§‹

![b729e38a9c447f1eaabfd6801e952b5a.png](https://cdn.pkmer.cn/images/b729e38a9c447f1eaabfd6801e952b5a.png!pkmer)

![094b8e5e7c398b4fed7a77d45fa55755.png](https://cdn.pkmer.cn/images/094b8e5e7c398b4fed7a77d45fa55755.png!pkmer)

æƒ³æå‡ºä¸€ä¸ªè§‚ç‚¹ï¼Œé‚£å°±æ˜¯ä»¥å›¾ç‰‡ä¸ºä¸­å¿ƒçš„æ–‡çŒ®ç®¡ç†æ–¹å¼ï¼Œæ¯ç¯‡æ–‡çŒ®å¹³å‡ä¹Ÿå°± 10 å¼ å›¾ï¼Œèƒ½çœ‹æ‡‚è¿™ 10 å¼ å›¾ï¼Œè¿™ç¯‡æ–‡çŒ®è‡ªç„¶å°±çœ‹æ‡‚äº†ã€‚

ğŸ‘‰ å¯ä»¥å‚è€ƒ[é’Ÿæ¾„æ•™æˆçš„æ–¹æ³•](https://space.bilibili.com/16532816)

> [!caution]+ æé†’äº‹é¡¹
> æœ¬æ–‡ä¸»è¦ä»‹ç»å®ç°è¿™ä¸ªå·¥ä½œæµç¨‹çš„ä¸€äº›æ–¹æ³•å’Œæ€è·¯ï¼Œä»…ä¾›å‚è€ƒï¼Œä¸ä¸ºæµç¨‹çš„ç»†èŠ‚ (åŒ…æ‹¬ Python ç¯å¢ƒé…ç½®ï¼ŒQuicker åŠ¨ä½œåˆ¶ä½œ) åšè¿‡å¤šçš„æè¿°ã€‚

## æå– PDF å›¾ç‰‡çš„æ–¹æ³•

### PP-Structure

Python å¯ä»¥é‡‡ç”¨ [PP-Structure](https://github.com/PaddlePaddle/PaddleOCR/blob/release/2.6/ppstructure/README_ch.md) çš„æ–‡æ¡£åˆ†æç³»ç»Ÿï¼Œå®Œæˆç‰ˆé¢åˆ†æå®ç°æå– PDF ä¸­å›¾ç‰‡çš„åŠŸèƒ½

![806ee5d22af74d32d0900e21956c4fa1.png](https://cdn.pkmer.cn/images/806ee5d22af74d32d0900e21956c4fa1.png!pkmer)

![a4ecc1d87910657689ac63e836de070e.gif](https://cdn.pkmer.cn/images/a4ecc1d87910657689ac63e836de070e.gif!pkmer)

æ¨¡å‹çš„è®¾ç½®ï¼š

```Python
model = lp.PaddleDetectionLayoutModel(config_path="lp://PubLayNet/ppyolov2_r50vd_dcn_365e_publaynet/config",
                                    threshold=0.5,
                                    label_map={0: "Text", 1: "Title",
                                            2: "List", 3: "Table", 4: "Figure"},
                                    enforce_cpu=True,
                                    enable_mkldnn=True)
```

ä¸ºäº†æ›´å¿«çš„æå– PDF å›¾ç‰‡ï¼Œå¯ä»¥å…³é—­ table å’Œ layout ä»¥åŠ show_log

```
table_engine = PPStructure(table=False, ocr=False, show_log=False)
```

### ç®¡ç†å›¾ç‰‡çš„æ–¹æ³•

![697cd6541a9fe9420de795428ba8906e.png](https://cdn.pkmer.cn/images/697cd6541a9fe9420de795428ba8906e.png!pkmer)

åœ¨è¯´ç®¡ç†å›¾ç‰‡çš„æ–¹æ³•ä¹‹å‰ï¼Œé¢å¤–æä¸€ä¸‹æ–‡çŒ®çš„ç®¡ç†å·¥å…·ï¼Œé¦–å…ˆæå– PDF çš„å‰ææ˜¯ä½ è¦æœ‰è‡ªå·±ä¸€å¥—è‰¯å¥½çš„æ–‡çŒ®ç®¡ç†åº“ï¼Œç¬”è€… (ç†ŠçŒ«) ä¸»è¦ç”¨åˆ°çš„æ–‡çŒ®ç®¡ç†çš„å·¥å…·æ˜¯ Zoteroï¼Œæ‰€ä»¥å…·ä½“å®æ–½å¯¹è±¡æ˜¯ Zotero ä¸­çš„ PDFï¼Œä¸»è¦ç»™è¯¥æ–¹æ³•ä¸€ä¸ªå‚è€ƒæ¡ˆä¾‹ã€‚

> å®ç°çš„æ•ˆæœå°±æ˜¯å¯ä»¥é€šè¿‡å›¾ç‰‡æ¥å®šä½åˆ° Zotero å…·ä½“ PDF çš„å›¾ç‰‡æ‰€åœ¨çš„é¡µé¢ä¸Šã€‚

### å¦‚ä½•è‡ªå®šä¹‰éœ€è¦æå–çš„ Zotero ä¸­çš„ PDFï¼Ÿ

å…³äºè¿™ä¸€ç‚¹å…¶å®éå¸¸å¥½å®ç°ï¼Œç›¸ä¿¡å¾ˆå¤šäººå¯¼å‡ºè¿‡æ¡ç›®å§ï¼Œæˆ‘å°±æ˜¯é€šè¿‡å°±æ˜¯é€šè¿‡å¯¼å‡ºæ¡ç›®æ¥è¿›è¡Œå®šä½çš„ï¼Œç”¨çš„æ˜¯ Better BibTex æ’ä»¶çš„å¯¼å‡ºæ ¼å¼ Better BibLateXï¼Œå…·ä½“é€‰é¡¹å¦‚ä¸‹ï¼š

![14a8b66add586e2e5c836246c5b65456.png](https://cdn.pkmer.cn/images/14a8b66add586e2e5c836246c5b65456.png!pkmer)

æ³¨æ„ä¸è¦é€‰æ‹©å¯¼å‡ºæ–‡ä»¶çš„é€‰é¡¹ï¼Œè¿™æ ·ä¼šå®šä½ä¸åˆ° Zotero ä¸­ PDF çš„æ–‡ä»¶å¤¹åç§°çš„ï¼Œå¯¼å‡ºçš„ bib æ ¼å¼å¦‚ä¸‹ï¼š

![6f463fff953dbf9c87955dddb45157f8.png](https://cdn.pkmer.cn/images/6f463fff953dbf9c87955dddb45157f8.png!pkmer)

ä¹Ÿå°±æ˜¯å¯ä»¥é€šè¿‡å¯¼å‡ºçš„ bib æ–‡ä»¶æ¥å®šä½åˆ°ä½ æƒ³è¦çš„ PDF ä»¥åŠæ–‡ä»¶å¤¹ã€‚

### å¦‚ä½•ç®¡ç†æå–çš„æ–‡çŒ®å›¾ç‰‡ï¼Ÿ

ç›®å‰æœ‰ 2 æ¬¾æ¯”è¾ƒå¥½ç”¨çš„å›¾ç‰‡ç´ æç®¡ç†å·¥å…·ï¼šBillfishã€Eagleï¼Œè¿™ä¸¤æ¬¾è½¯ä»¶éƒ½æ˜¯ä¸é”™çš„ç´ æç®¡ç†è½¯ä»¶ï¼Œå¯ä»¥è‡ªè¡Œè€ƒè™‘ä½¿ç”¨ã€‚

å¯ä»¥æ ¹æ®å®ƒä»¬å¼ºå¤§çš„æ ‡ç­¾å’Œåˆ†ç±»åŠŸèƒ½ï¼Œå¯¹å›¾ç‰‡ç´ ææ•´ç†å’Œå½’ç±»ï¼Œåˆ›å»ºè‡ªå·±çš„å›¾ç‰‡ç´ æåº“ã€‚

### å¦‚ä½•é€šè¿‡å›¾ç‰‡è·³è½¬åˆ° PDFï¼Ÿ

åœ¨ç¤¾åŒºæ–‡ç«  [é€šè¿‡ Python è„šæœ¬å®ç° Eagle ç®¡ç† Zotero æ ‡æ³¨çš„å›¾ç‰‡](https://pkmer.cn/show/20230905104442) ä¸­ä»‹ç»äº† Zotero å›é“¾çš„ç»„æˆï¼Œä»¥åŠå¦‚ä½•ç”¨ Eagle ç®¡ç† Zotero æ ‡æ³¨çš„å›¾ç‰‡ã€‚

åŒæ—¶æˆ‘ä»¬çŸ¥é“äº† Zotero å¯¹åº”å›¾ç‰‡çš„çš„å¤–éƒ¨å›é“¾çš„å½¢å¼ï¼Œå°±å¯ä»¥é€šè¿‡æå–çš„å›¾ç‰‡æ¥å®šä½åˆ° Zotero çš„ PDF çš„æŸä¸€é¡µçš„ã€‚

æ‰€ä»¥é‡‡ç”¨ Zotero é“¾æ¥å›¾ç‰‡çš„å›é“¾æœ‰ï¼š

- PDF å­˜æ”¾çš„æ–‡ä»¶å¤¹åç§°å¯¹åº”å›¾ç‰‡é“¾æ¥
- `zotero://open-pdf/library/items/{folder_name}?page={pdf_page}`
- `{folder_name}` æ˜¯å­˜æ”¾ PDF çš„æ–‡ä»¶å¤¹åç§°ï¼Œ`{pdf_page}` æ˜¯å›¾ç‰‡æ‰€åœ¨çš„ PDF çš„é¡µç 

å¦‚æœä»¥ç‰¹å®šçš„æ ‡è¯†ç¬¦å‘½åå›¾ç‰‡ï¼Œé‚£åªè¦çŸ¥é“å›¾ç‰‡åæˆ–è€…è·å–å›¾ç‰‡åé‡æ–°ç»„åˆæˆä¸ºä¸€ä¸ª Zotero å›é“¾çš„è¯å°±å¯ä»¥è¿›è¡Œè·³è½¬äº†ã€‚

å¦‚æˆ‘è®¾å®šå›¾ç‰‡çš„åç§°ä¸ºï¼š`ID-{folder_name}_Page-{pdf_page}_num-{num}`ï¼Œè¿™é‡Œçš„ `num` æ˜¯æ¯é¡µæå–çš„å›¾ç‰‡æ•°é‡çš„è®¡æ•°ï¼Œå¹¶æ²¡æœ‰å¤ªå¤§ä½œç”¨ï¼Œä¸»è¦æ˜¯é˜²æ­¢å›¾ç‰‡è¦†ç›–æ‰ã€‚

![0b2458c038d6b9ae9b80992256950684.png](https://cdn.pkmer.cn/images/0b2458c038d6b9ae9b80992256950684.png!pkmer)

é’ˆå¯¹ Billfish æˆ–è€… Eagleï¼Œå¯ä»¥ä½¿ç”¨ Quicker æ¥è¾¾åˆ°è‡ªåŠ¨ç»„åˆè¿æ¥å¹¶æ‰“å¼€çš„å¿«æ·æ–¹å¼ï¼š

![a0d06d480b8dd39a56007c3f19c67254.png](https://cdn.pkmer.cn/images/a0d06d480b8dd39a56007c3f19c67254.png!pkmer)

è¯¥åŠ¨ä½œä¸»è¦è´Ÿè´£é‡ç»„é€‰ä¸­çš„å›¾ç‰‡çš„æ–‡ä»¶åï¼Œè½¬æ¢ä¸º Zotero çš„å¤–éƒ¨å›é“¾ï¼Œç„¶åè®¾ç½®è¯¥åŠ¨ä½œçš„å¿«æ·æ–¹æ³•å°±è¡Œäº†ã€‚

å½“ç„¶ç®¡ç†çš„å›¾ç‰‡è¿˜åˆ†ä¸ºæå–çš„å›¾ç‰‡å’Œæ‰‹åŠ¨æ‘˜å½•çš„å›¾ç‰‡ï¼Œä¸¤è€…çš„å›é“¾ç»„æˆä¸ä¸€æ ·ï¼Œæ‰€ä»¥æå–æ–¹æ³•ä¹Ÿå°±ä¸ä¸€æ ·äº†ï¼Œæ‰€ä»¥è¯¥åŠ¨ä½œè¿˜ä¼šæ ¹æ®å›¾ç‰‡æ˜¯å¦ä¸ºæå–æˆ–è€…æ‘˜å½•çš„å›¾ç‰‡åšäº†ä¸€ä¸ªåˆ¤æ–­è¿‡ç¨‹ã€‚

![00f6a9b5fd17fd8fa37819fb7a929ac2.gif](https://cdn.pkmer.cn/images/00f6a9b5fd17fd8fa37819fb7a929ac2.gif!pkmer)

> [!tip] Eagle çš„å›¾ç‰‡ä¿¡æ¯éƒ½ä¿å­˜åœ¨äº†ç´ ææ–‡ä»¶çš„ä¸‹ metadata.json æ–‡ä»¶ä¸­äº†
> ![8d91bfff5351c8ab9034aea9192b6da2.png](https://cdn.pkmer.cn/images/8d91bfff5351c8ab9034aea9192b6da2.png!pkmer)

> å…·ä½“å‚è€ƒï¼š[é€šè¿‡ Python è„šæœ¬å®ç° Eagle ç®¡ç† Zotero æ ‡æ³¨çš„å›¾ç‰‡](https://pkmer.cn/show/20230905104442)

## æå– Zotero æ–‡çŒ®å›¾ç‰‡çš„å®Œæ•´ Python è„šæœ¬ä»£ç  (ä»…ä¾›å‚è€ƒä½¿ç”¨)

è¿™é‡Œæˆ‘ç”¨ Tkinter ç®€å•åšäº†ä¸€ä¸ªç•Œé¢ï¼Œå…³äºæå– Zotero çš„å›¾ç‰‡åˆ° Eagle çš„ï¼Œé‡Œé¢çš„ä¸€äº›ç¬¬ä¸‰æ–¹åº“éœ€è¦æ‚¨æ‰‹åŠ¨ä¸‹è½½ï¼ŒPPStructure ç¬¬ä¸€æ¬¡ä½¿ç”¨éœ€è¦ä¸‹è½½ä¸€äº›åŒ…ï¼Œä¹‹åå°±ä¸éœ€è¦ä¸‹è½½äº†ï¼š

![0f03a6f0a4434c46c1b1d8e7de730f80.png](https://cdn.pkmer.cn/images/0f03a6f0a4434c46c1b1d8e7de730f80.png!pkmer)

æ”¹ä»£ç ä»…ä¾›å‚è€ƒä½¿ç”¨ï¼Œå…·ä½“å·¥ä½œæµç¨‹è¯·è‡ªè¡Œä¿®æ”¹ã€‚

```python 
# -*- coding: utf-8 -*-
"""
Created on Fri Sep  1 07:21:40 2023
@author: ç†ŠçŒ«åˆ«ç†¬å¤œ
"""
from tkinter import *
from tkinter.ttk import *
from tkinter import ttk, filedialog
from typing import Dict
import bibtexparser
import os
import fitz
import shutil
import re
from wand.image import Image as ImageJPX
from PIL import Image
import json
import subprocess
from paddleocr import PPStructure, save_structure_res
import datetime
import warnings
import cv2
import layoutparser as lp
warnings.simplefilter("ignore")
# é…ç½®ç¯å¢ƒå˜é‡
os.environ["KMP_DUPLICATE_LIB_OK"] = "TRUE"
model = lp.PaddleDetectionLayoutModel(config_path="lp://PubLayNet/ppyolov2_r50vd_dcn_365e_publaynet/config",
                                    threshold=0.5,
                                    label_map={0: "Text", 1: "Title",
                                            2: "List", 3: "Table", 4: "Figure"},
                                    enforce_cpu=True,
                                    enable_mkldnn=True)

class WinGUI(Tk):
    def __init__(self):
        super().__init__()
        self.__win()
        self.tk_input_ZoteroPath = self.__tk_input_ZoteroPath(self)
        self.tk_input_EaglePath = self.__tk_input_EaglePath(self)
        self.tk_button_zotero = self.__tk_button_zotero(self)
        self.tk_button_Eagle = self.__tk_button_Eagle(self)
        self.tk_check_button_move_files = self.__tk_check_button_move_files(
            self)
        self.tk_button_add_ZoteroURL = self.__tk_button_add_ZoteroURL(self)
        self.tk_input_lm3k6yb9 = self.__tk_input_lm3k6yb9(self)
        self.tk_button_Images = self.__tk_button_Images(self)
        self.tk_button_lm3lxend = self.__tk_button_lm3lxend(self)
        self.tk_input_message = self.__tk_input_message(self)

    def __win(self):
        self.title("Zotero to Eagle")
        # è®¾ç½®çª—å£å¤§å°ã€å±…ä¸­
        width = 505
        height = 190
        screenwidth = self.winfo_screenwidth()
        screenheight = self.winfo_screenheight()
        geometry = '%dx%d+%d+%d' % (width, height,
                                    (screenwidth - width) / 2, (screenheight - height) / 2)
        self.geometry(geometry)
        self.resizable(width=False, height=False)
        # è‡ªåŠ¨éšè—æ»šåŠ¨æ¡

    def scrollbar_autohide(self, bar, widget):
        self.__scrollbar_hide(bar, widget)
        widget.bind("", lambda e: self.__scrollbar_show(bar, widget))
        bar.bind("", lambda e: self.__scrollbar_show(bar, widget))
        widget.bind("", lambda e: self.__scrollbar_hide(bar, widget))
        bar.bind("", lambda e: self.__scrollbar_hide(bar, widget))

    def __scrollbar_show(self, bar, widget):
        bar.lift(widget)

    def __scrollbar_hide(self, bar, widget):
        bar.lower(widget)

    def vbar(self, ele, x, y, w, h, parent):
        sw = 15  # Scrollbar å®½åº¦
        x = x + w - sw
        vbar = Scrollbar(parent)
        ele.configure(yscrollcommand=vbar.set)
        vbar.config(command=ele.yview)
        vbar.place(x=x, y=y, width=sw, height=h)
        self.scrollbar_autohide(vbar, ele)

    def __tk_input_ZoteroPath(self, parent):
        ipt = Entry(parent, )
        ipt.place(x=80, y=20, width=240, height=30)
        return ipt

    def __tk_input_EaglePath(self, parent):
        ipt = Entry(parent, )
        ipt.insert(0, "E:\PandaMemos.library\images")  # è®¾ç½®åˆå§‹å€¼
        ipt.place(x=80, y=60, width=240, height=30)
        return ipt

    def __tk_button_zotero(self, parent):
        def select_bib():
            # æ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†ï¼Œé€‰æ‹©PDFæ–‡ä»¶
            file_path = filedialog.askopenfilename(
                filetypes=[("Zotero bib", "*.bib")])
            if file_path:
                # è·å–é€‰æ‹©çš„æ–‡ä»¶è·¯å¾„
                self.tk_input_ZoteroPath.delete(0, END)  # æ¸…ç©ºæ–‡æœ¬æ¡†å†…å®¹
                self.tk_input_ZoteroPath.insert(0, file_path)  # è®¾ç½®æ–‡æœ¬æ¡†å†…å®¹ä¸ºæ–‡ä»¶è·¯å¾„
                bibtex_file_path = file_path
                self.pdf_path_list = get_pdf_paths_from_bibtex(
                    bibtex_file_path)

                self.tk_input_message.delete('1.0', END)  # æ¸…ç©ºæ–‡æœ¬æ¡†å†…å®¹
                self.tk_input_message.insert(
                    '1.0', "âœ…è·å–äº†%dä¸ªPDF\n\n" % (len(self.pdf_path_list)))
        btn = Button(parent, text="Zotero", takefocus=False,
                    command=select_bib)
        btn.place(x=10, y=20, width=60, height=30)
        return btn

    def __tk_button_Eagle(self, parent):
        def select_folder():
            folder_path = filedialog.askdirectory(
                initialdir="E:\PandaMemos.library\images")
            if folder_path:
                self.tk_input_EaglePath.delete(0, END)  # æ¸…ç©ºæ–‡æœ¬æ¡†å†…å®¹
                self.tk_input_EaglePath.insert(0, folder_path)  # è®¾ç½®æ–‡æœ¬æ¡†å†…å®¹ä¸ºæ–‡ä»¶å¤¹è·¯å¾„

        btn = Button(parent, text="Eagle", takefocus=False,
                    command=select_folder)

        btn = Button(parent, text="Eagle", takefocus=False,)
        btn.place(x=10, y=60, width=60, height=30)
        return btn

    def __tk_check_button_move_files(self, parent):

        def on_button_click():
            target_folder = self.tk_input_lm3k6yb9.get()  # è·å–tk_input_lm3k6yb9è¾“å…¥æ¡†ä¸­çš„è·¯å¾„
            if target_folder:
                # è°ƒç”¨move_fileså‡½æ•°ï¼Œå¹¶ä¼ é€’target_folderä½œä¸ºå‚æ•°
                move_files(target_folder)
                self.tk_input_message.insert('end', "âœ…å›¾ç‰‡å¯¼å…¥å®Œæˆ\n\n")
            else:
                self.tk_input_message.insert('end', "âŒè¯·è¾“å…¥ç›®æ ‡æ–‡ä»¶å¤¹è·¯å¾„\n\n")

        btn = Button(parent, text="âš è‡ªåŠ¨ç§»åŠ¨", takefocus=False,
                    command=on_button_click)
        btn.place(x=115, y=140, width=100, height=30)
        return btn

    def __tk_button_add_ZoteroURL(self, parent):

        def mod_metadat():
            destination_folder = self.tk_input_EaglePath.get()
            mod_Eagle_metadata_to_Zotero_url(destination_folder)
            self.tk_input_message.insert('end',  f"âœ…å·²æ·»åŠ Zoteroå›é“¾\n\n")
            pass
        btn = Button(parent, text="Zoteroå›é“¾",
                    takefocus=False, command=mod_metadat)
        btn.place(x=220, y=140, width=100, height=30)
        return btn

    def __tk_input_lm3k6yb9(self, parent):
        ipt = Entry(parent, )
        ipt.insert(0, "D:\PandaNotes\Y-å›¾å½¢æ–‡ä»¶å­˜å‚¨\PandaMemos")  # è®¾ç½®åˆå§‹å€¼
        ipt.place(x=80, y=100, width=240, height=30)
        return ipt

    def __tk_button_Images(self, parent):
        def select_folder():
            folder_path = filedialog.askdirectory(
                initialdir="D:\PandaNotes\Y-å›¾å½¢æ–‡ä»¶å­˜å‚¨\PandaMemos")
            if folder_path:
                self.tk_input_lm3k6yb9.delete(0, END)  # æ¸…ç©ºæ–‡æœ¬æ¡†å†…å®¹
                self.tk_input_lm3k6yb9.insert(0, folder_path)  # è®¾ç½®æ–‡æœ¬æ¡†å†…å®¹ä¸ºæ–‡ä»¶å¤¹è·¯å¾„
        btn = Button(parent, text="Images",
                    takefocus=False, command=select_folder)
        btn.place(x=10, y=100, width=60, height=30)
        return btn

    def __tk_button_lm3lxend(self, parent):
        def extract_pdf_paths():
            text = Zotero_images(self.pdf_path_list)

            # self.tk_input_message.delete(0, END)  # æ¸…ç©ºæ–‡æœ¬æ¡†å†…å®¹
            self.tk_input_message.insert('end', text)
            # è·å–å½“å‰ç¨‹åºè·¯å¾„
            current_path = os.getcwd()
            # è¦æ‰“å¼€çš„æ–‡ä»¶å¤¹è·¯å¾„
            folder_path = os.path.join(current_path, "IMGS")
            # åœ¨å‘½ä»¤è¡Œä¸­æ‰“å¼€æ–‡ä»¶å¤¹
            subprocess.run(["start", folder_path], shell=True)

        btn = Button(parent, text="Zoteroå›¾ç‰‡",
                    takefocus=False, command=extract_pdf_paths)
        btn.place(x=10, y=140, width=100, height=30)
        return btn

    def __tk_input_message(self, parent):
        ipt = Text(parent)
        ipt.place(x=340, y=20, width=150, height=150)
        return ipt

def extract_id_and_page(pdf_path):
    # è·å–Zotero_urlå’Œpage
    pattern = r"ID-(.*?)_Page-(\d+)_num"
    match = re.search(pattern, pdf_path)

    if match:
        id = match.group(1)
        page = match.group(2)
        return id, page
    else:
        return None, None

def get_pdf_paths_from_bibtex(bibtex_file_path):
    # ä»bibä¸­å¯¼å…¥æ•°æ®
    pdf_path_list = []
    with open(bibtex_file_path, 'r', encoding="utf-8") as bibtex_file:
        bib_database = bibtexparser.load(bibtex_file)

    for entry in bib_database.entries:
        try:
            if "file" in entry:
                pdf_path = entry["file"].split(";")[0].replace(
                    "\\\\", "\\").replace("\\:", ":")
                if os.path.exists(pdf_path) and (pdf_path.lower().endswith('.pdf')):
                    pdf_path_list.append(pdf_path)
                else:
                    print(f"âŒ PDFæ–‡ä»¶ä¸å­˜åœ¨æˆ–ä¸æ˜¯æœ‰æ•ˆçš„PDFæ–‡ä»¶: {pdf_path}")
        except Exception as e:
            print(f"âŒ æå–PDFæ–‡ä»¶è·¯å¾„æ—¶å‡ºé”™: {e}")

    return pdf_path_list

def rename_and_disperse(foldername):
    # è·å–æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶å¤¹
    subfolders = [f.path for f in os.scandir(foldername) if f.is_dir()]

    # å¯¹æ¯ä¸ªå­æ–‡ä»¶å¤¹è¿›è¡Œå¤„ç†
    for subfolder in subfolders:
        # è·å–å­æ–‡ä»¶å¤¹çš„åç§°
        subfolder_name = os.path.basename(subfolder)
        # è·å–å­æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶
        image_files = [f for f in os.listdir(subfolder) if f.endswith((".jpg", ".jpeg", ".png"))]

        # å¯¹å›¾ç‰‡æ–‡ä»¶è¿›è¡Œé‡æ–°å‘½å
        for i, image_file in enumerate(image_files):
            name, ext = os.path.splitext(image_file)
            new_name = f"{subfolder_name}_num-{i+1}{ext}"
            os.rename(os.path.join(subfolder, image_file), os.path.join(subfolder, new_name))
            # ç§»åŠ¨å›¾ç‰‡æ–‡ä»¶åˆ°çˆ¶æ–‡ä»¶å¤¹
            src = os.path.join(subfolder, new_name)
            dst = foldername
            try:
                shutil.move(src, dst)
            except:
                print("è·³è¿‡å·²å­˜åœ¨çš„å›¾ç‰‡")
                pass
        # åˆ é™¤å­æ–‡ä»¶å¤¹
        shutil.rmtree(subfolder)
# æå–å›¾ç‰‡
def process_images(img_dir, save_folder):
    # è®¾ç½®æå–çš„å¼•æ“
    image_engine = PPStructure(table=False, ocr=False, layout=True, show_log=False)
    if not os.path.exists(save_folder):
        os.makedirs(save_folder)

    files = os.listdir(img_dir)
    for fi in files:
        img_path = os.path.join(img_dir, fi)
        # img_path = os.path.normpath(img_path)
        img = cv2.imread(img_path)
        # encoded_path = img_path.encode('utf-8')
        # img = cv2.imread(encoded_path.decode('utf-8'))
        result = image_engine(img)
        save_structure_res(result, save_folder, os.path.basename(img_path).split('.')[0])
        rename_and_disperse(save_folder)
        # print('ğŸ¥',fi)
    return len(files)

# å•ä¸ªpdfæå–
def pyMuPDF_fitz(pdfPath, imagePath):
    # print("imagePath=" + imagePath)
    pdfDoc = fitz.open(pdfPath)
    pdf_filename=os.path.basename(pdfPath).split(".pdf")[0]
    for pageIndex in range(pdfDoc.page_count):
        page = pdfDoc[pageIndex]
        rotate = int(0)
        # æ¯ä¸ªå°ºå¯¸çš„ç¼©æ”¾ç³»æ•°ä¸º4ï¼Œè¿™å°†ä¸ºæˆ‘ä»¬ç”Ÿæˆåˆ†è¾¨ç‡æé«˜4çš„å›¾åƒã€‚
        # æ­¤å¤„è‹¥æ˜¯ä¸åšè®¾ç½®ï¼Œé»˜è®¤å›¾ç‰‡å¤§å°ä¸ºï¼š792X612, dpi=96
        zoom_x = 4  # (1.33333333-->1056x816)   (2-->1584x1224)
        zoom_y = 4
        mat = fitz.Matrix(zoom_x, zoom_y).prerotate(rotate)
        pix = page.get_pixmap(matrix=mat, alpha=False)

        if not os.path.exists(imagePath):  # åˆ¤æ–­å­˜æ”¾å›¾ç‰‡çš„æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨
            os.makedirs(imagePath)  # è‹¥å›¾ç‰‡æ–‡ä»¶å¤¹ä¸å­˜åœ¨å°±åˆ›å»º

        # print(pdf_filename)
        parent_dir = os.path.dirname(pdfPath)
        ZoteroID = os.path.basename(parent_dir)

        # å°†å›¾ç‰‡å†™å…¥æŒ‡å®šçš„æ–‡ä»¶å¤¹å†…
        # pix.save(imagePath + '/' + f'{pdf_filename} IDï¼š{ZoteroID} Pageï¼š{pageIndex+1}.png')
        pix.save(imagePath + '/' + f'ID-{ZoteroID}_Page-{pageIndex+1}.png')

# æ‰¹é‡pdfæå–
def Zotero_images(filepaths,n=False):
    startTime = datetime.datetime.now()  # å¼€å§‹æ—¶é—´
    page_nums=0;
    for fi in filepaths:
        if n:
            # å°†è½¬æ¢çš„å›¾ç‰‡ä¿å­˜åˆ°å¯¹åº”imgsçš„å¯¹åº”å­ç›®å½•ä¸‹
            pyMuPDF_fitz(fi, os.path.join('MIGS', fi[:-4]))
            # img_dir = './IMGS'
            # save_folder = './PICS'
            # process_images(img_dir, save_folder)
        else:
            startTime_pdf2img = datetime.datetime.now()  # å¼€å§‹æ—¶é—´
            # å°†å›¾ç‰‡ç”Ÿæˆåœ¨ç¨‹åºæ–‡ä»¶å¤¹ä¸‹
            img_dir = './IMGS'
            save_folder = './PICS'
            pyMuPDF_fitz(fi, img_dir)
            page_num=process_images(img_dir, save_folder)
            page_nums+=page_num
            # åˆ é™¤å¹¶é‡å»ºæ–‡ä»¶è¿›è¡Œæ¸…ç©ºå˜é‡
            shutil.rmtree(img_dir)
            os.makedirs(img_dir)
            endTime_pdf2img = datetime.datetime.now()  # ç»“æŸæ—¶é—´
            print('ğŸ¥è€—æ—¶', (endTime_pdf2img - startTime_pdf2img).seconds,'ç§’',f"{fi}")

    endTime = datetime.datetime.now()  # ç»“æŸæ—¶é—´

    files = os.listdir(save_folder)
    text=f'âœ…å·²è½¬æ¢{len(filepaths)}ä¸ªPDF,å…±{page_nums}é¡µ\næå–äº†{len(files)}å¼ å›¾ç‰‡\nè€—æ—¶', (endTime - startTime).total_seconds(),'ç§’'
    print(text)
    return text
# æ·»åŠ å›é“¾
def mod_Eagle_metadata_to_Zotero_url(destination_folder):
    # # éå†ç›®æ ‡æ–‡ä»¶å¤¹åŠå…¶å­æ–‡ä»¶å¤¹
    i = 0
    for root, dirs, files in os.walk(destination_folder):
        for filename in files:
            # æ£€æŸ¥æ–‡ä»¶æ‰©å±•åæ˜¯å¦ä¸ºPNG
            if filename.endswith(".png") or filename.endswith(".jpg"):
                # æ„å»ºç›®æ ‡æ–‡ä»¶çš„å®Œæ•´è·¯å¾„
                destination_file = os.path.join(root, filename)
                metadata_file = os.path.join(root, "metadata.json")
                # è¯»å–metadata.jsonæ–‡ä»¶
                with open(metadata_file, "r", encoding="utf-8") as file:
                    data = json.load(file)
                ZoteroID, pageIndex = extract_id_and_page(filename)
                if ZoteroID and pageIndex:
                    zotero_url = f"zotero://open-pdf/library/items/{ZoteroID}?page={pageIndex}"
                    print(filename)
                    data["url"] = zotero_url
                    i = i+1
                # å†™å…¥ä¿®æ”¹åçš„æ•°æ®åˆ°metadata.jsonæ–‡ä»¶
                with open(metadata_file, "w", encoding="utf-8") as file:
                    json.dump(data, file)

    print(f"âœ…æ€»è®¡ä¿®æ”¹äº†{i}ä¸ªmetadata")
    print("âœ…ç¨‹åºæ‰§è¡Œå®Œæˆ")

def move_files(target_folder):
    # è·å–æºæ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰æ–‡ä»¶å
    source_folder = "./PICS"
    file_names = os.listdir(source_folder)

    # éå†æ–‡ä»¶ååˆ—è¡¨
    for file_name in file_names:
        # æ„å»ºæºæ–‡ä»¶çš„å®Œæ•´è·¯å¾„
        source_path = os.path.join(source_folder, file_name)

        # æ„å»ºç›®æ ‡æ–‡ä»¶çš„å®Œæ•´è·¯å¾„
        target_path = os.path.join(target_folder, file_name)

        # ç§»åŠ¨æ–‡ä»¶
        shutil.move(source_path, target_path)

    print("æ–‡ä»¶ç§»åŠ¨å®Œæˆï¼")

class Win(WinGUI):
    def __init__(self):
        super().__init__()
        self.__event_bind()
        self.attributes('-topmost', 1)

    def __event_bind(self):
        pass

if __name__ == "__main__":
    win = Win()
    win.mainloop()
```

## å¯¹å›¾ç‰‡åšç¬”è®°çš„æ–¹æ³•

ç”±äºå¯¹å›¾ç‰‡çš„ç¼–è¾‘éœ€è¦ä¸€å®šçš„å¯è§†åŒ–ç¼–è¾‘è¿‡ç¨‹ï¼Œä¼ ç»Ÿçš„çº¿æ€§ç¬”è®°å¯èƒ½æ»¡è¶³ä¸äº†å¤šä¸ªå›¾ç‰‡å¹¶è¡Œå¤„ç†çš„é—®é¢˜ï¼Œå¯¹å›¾ç‰‡çš„è¿›ä¸€æ­¥å…³è”å¯ä»¥å€ŸåŠ© Excalidraw ç”»æ¿æ¥ç¼–è¾‘ï¼Œè¿™é‡Œä¼šå€ŸåŠ©ä¸€äº› Excalidraw çš„ JS è„šæœ¬å’Œ Http Sever æœåŠ¡ä»¥åŠ Quicker åŠ¨ä½œæ¥æ›´æ–¹ä¾¿çš„å®Œå–„å·¥ä½œæµã€‚

### Eagle è”åŠ¨åº“å¤–ç´ æåˆ° Excalidraw

![f74dbde9a3609e4c98f984862e174334.gif](https://cdn.pkmer.cn/images/f74dbde9a3609e4c98f984862e174334.gif!pkmer)

é¦–å…ˆç”±äº Eagle çš„ç®¡ç†ç‰¹æ€§ï¼Œå¹¶ä¸é€‚åˆåœ¨ Obsidian é‡Œé¢ç®¡ç†å›¾ç‰‡ï¼Œå¦åˆ™ä¼šç”Ÿæˆä¸€å †é…ç½®æ–‡ä»¶ï¼ŒåŸºæœ¬æ¯å¯¼å…¥ä¸€ä¸ªå›¾ç‰‡å°±ä¼šäº§ç”Ÿé…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥ Eagle é€‚åˆåº“å¤–å»ºç«‹ï¼Œéœ€è¦çš„æ—¶å€™å†è¿›è¡Œè”åŠ¨ã€‚

å¯¹äºåº“å¤–çš„æ–‡ä»¶ç›´æ¥æ‹–å…¥ Excalidraw ç”»æ¿æ˜¯è¡Œä¸é€šï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ä¸€äº› Javascript è„šæœ¬å®ç°ï¼Œåˆ‡ç¡®çš„è¯´æ˜¯æ·»åŠ  Excalidraw çš„è„šæœ¬ï¼š

å¤åˆ¶ä¸‹é¢ä»£ç ï¼Œåœ¨ Excalidraw çš„ Script æ–‡ä»¶ä¸­å¦å­˜ä¸ºä¸€ä¸ª Eagle to Excalidraw çš„ md æ–‡ä»¶ï¼Œ**æ³¨æ„è¦ä¿®æ”¹ğŸ“Œæ³¨é‡Šçš„è·¯å¾„ä¸ºä½ è‡ªå·±å®šä¹‰çš„è·¯å¾„**ï¼Œå½“ä½ å¯åŠ¨ Excalidraw ç”»æ¿æ—¶ï¼Œå·¥å…·é¢æ¿ä¼šå‡ºç°è¿™ä¸ªè„šæœ¬ï¼Œç‚¹å‡»è¿è¡Œä¸€ä¸‹å°±å¯ä»¥é“¾æ¥å±€åŸŸç½‘ä¸­æ–‡ä»¶äº†ã€‚ä¸ºäº†é˜²æ­¢æœ‰äººçœ‹ä¸æ‡‚ï¼Œæˆ‘è¿˜æ˜¯é™„ä¸Šå›¾ç‰‡ç¤ºæ„ä¸€ä¸‹ï¼š

![95c1da25cf19b1f9a1ff56d28dd9485a.png](https://cdn.pkmer.cn/images/95c1da25cf19b1f9a1ff56d28dd9485a.png!pkmer)

````javascript
/*
```javascript
*/

const path = require('path');
const fs = require("fs");

let api = ea.getExcalidrawAPI();
let el = ea.targetView.containerEl.querySelectorAll(".excalidraw-wrapper")[0];

el.ondrop = async function (event) {
    console.log("ondrop");
    event.preventDefault();
    if (event.dataTransfer.types.includes("Files")) {
        console.log("æ–‡ä»¶ç±»å‹åˆ¤æ–­");
        for (let file of event.dataTransfer.files) {
            let directoryPath = file.path;
            console.log(directoryPath);
            if (directoryPath) {
                console.log("è·å–è·¯å¾„");
                let folder = directoryPath.match(/([^\\]+)\.info/i);
                // let file_name = directoryPath.match(/([^\\]+)\.(png|jpg|jpeg|html|mhtml|pdf|ppt|pptx)/i);
                let file_name = directoryPath.match(/([^\\]+)(\.[^\\]*)?$/i);
                if (folder && file_name) {
                    eagle_id = folder[0].replace('.info', '');
                    folder = folder[0];                    
                    file_name = file_name[0];
                    console.log(`folder: ${folder};file_name:${file_name};eagle_id:${eagle_id}`);

                    // å°†å›¾ç‰‡æ–‡ä»¶ç§»åŠ¨åˆ°æŒ‡å®šæ–‡ä»¶å¤¹
                    let sourcePath = directoryPath;
                    // ğŸ“Œå®šä¹‰Obsidianå†…éƒ¨é™„ä»¶ä¿å­˜çš„åœ°å€
                    let destinationPath = path.join(
                        "D:",
                        "PandaNotes",
                        "Y-å›¾å½¢æ–‡ä»¶å­˜å‚¨",
                        "EagleImages",
                        file_name
                    );
                    fs.copyFileSync(sourcePath, destinationPath);
                    // è®©é»˜è®¤æ’å…¥æ–‡æœ¬ä¸ºæ–‡ä»¶å
                    let insert_txt = file_name;

                    // æ¸…ç©ºæ’å…¥çš„ç¯å¢ƒå˜é‡
                    event.stopPropagation();
                    ea.clear();

                    await new Promise((resolve) => setTimeout(resolve, 300)); // æš‚åœä¸€ä¼šå„¿

                    // ğŸ“Œå®šä¹‰Eagleçš„è·¯å¾„ï¼Œå¹¶è¯»å–metadata.jsonæ–‡ä»¶
                    const metadataPath = `E:\\PandaMemos.library\\images\\${folder}\\metadata.json`; // æ›¿æ¢ä¸ºå®é™…çš„æ–‡ä»¶è·¯å¾„
                    const metadataContent = fs.readFileSync(metadataPath, 'utf8');
                    // è§£æä¸ºJSONå¯¹è±¡
                    const metadata = JSON.parse(metadataContent);
                    

                    // è®¾ç½®ä¸åŒæ–‡ä»¶ç±»å‹çš„å¯¼å…¥æ–¹å¼ea.addTextä¸ºæ–‡æœ¬ã€ea.addImageä¸ºå›¾ç‰‡
                    if (
                        //   å¯¹ç½‘é¡µç»Ÿä¸€ç”¨å†…éƒ¨é“¾æ¥çš„å½¢å¼
                        file_name.toLowerCase().endsWith(".html") ||
                        file_name.toLowerCase().endsWith(".mhtml") ||
                        file_name.toLowerCase().endsWith(".htm")
                    ) {
                        let id = await ea.addText(0, 0, `[[${insert_txt}]]`, { width: 400, box: true, wrapAt: 50, textAlign: "center", textVerticalAlign: "middle", box: "box" });
                        let el = ea.getElement(id);
                        el.link = `eagle://item/${eagle_id}`;
                        await ea.addElementsToView(true, false, false);
                        if (ea.targetView.draginfoDiv) {
                            document.body.removeChild(ea.targetView.draginfoDiv);
                            delete ea.targetView.draginfoDiv;
                        }
                    } else if (
                        //   å¯¹å›¾ç‰‡ç»Ÿä¸€ç”¨å¯¼å…¥å›¾ç‰‡åé™„åŠ é“¾æ¥çš„å½¢å¼
                        file_name.toLowerCase().endsWith(".png") ||
                        file_name.toLowerCase().endsWith(".jpg") ||
                        file_name.toLowerCase().endsWith(".jpeg")
                    ) {
                        let id = await ea.addImage(0, 0, insert_txt);
                        let el = ea.getElement(id);

                        if (metadata.url) {
                            // å°†el.linkçš„å€¼è®¾ç½®ä¸ºmetadata.jsonä¸­çš„url
                            el.link = metadata.url;
                        } else {
                            // å°†el.linkçš„å€¼è®¾ç½®ä¸ºEagleçš„å›é“¾
                            el.link = `eagle://item/${eagle_id}`;
                        }
                        
                        await ea.addElementsToView(true, false, false);
                        if (ea.targetView.draginfoDiv) {
                            document.body.removeChild(ea.targetView.draginfoDiv);
                            delete ea.targetView.draginfoDiv;
                        }
                    } else if (file_name.toLowerCase().endsWith(".url")) {
                        // å¯¹urlæ–‡ä»¶é‡‡ç”¨æ–‡æœ¬åŠ å…¥jsonçš„è¿æ¥å½¢å¼
                        link = metadata.url;
                        let id = await ea.addText(0, 0, `ğŸŒ[${insert_txt.replace(".url", "")}](${link})`, { width: 400, box: true, wrapAt: 50, textAlign: "center", textVerticalAlign: "middle", box: "box" });

                        let el = ea.getElement(id);
                        // å°†el.linkçš„å€¼è®¾ç½®ä¸ºEagleçš„å›é“¾
                        el.link = `eagle://item/${eagle_id}`;
                        await ea.addElementsToView(true, false, false);
                        if (ea.targetView.draginfoDiv) {
                            document.body.removeChild(ea.targetView.draginfoDiv);
                            delete ea.targetView.draginfoDiv;
                        }
                    } else {
                        // å…¶ä½™ç»Ÿä¸€æ’å…¥eagleè¿æ¥
                        let id = await ea.addText(0, 0, `[[${insert_txt}]]`, { width: 400, box: true, wrapAt: 50, textAlign: "center", textVerticalAlign: "middle", box: "box" });
                        let el = ea.getElement(id);
                        // å°†el.linkçš„å€¼è®¾ç½®ä¸ºEagleçš„å›é“¾
                        el.link = `eagle://item/${eagle_id}`;
                        await ea.addElementsToView(true, false, false);
                        if (ea.targetView.draginfoDiv) {
                            document.body.removeChild(ea.targetView.draginfoDiv);
                            delete ea.targetView.draginfoDiv;
                        }
                    }
                }
            }
        }
    }
};
````

### è”åŠ¨çš„ä¸ä»…ä»…æ˜¯å›¾ç‰‡

å…¶å®è”åŠ¨çš„ä¸ä»…ä»…æ˜¯å›¾ç‰‡ï¼ŒEagle è¿˜æœ‰å¦ä¸€ä¸ªéšè—ç”¨æ³•ï¼Œé‚£å°±æ˜¯ç®¡ç†ç¦»çº¿çš„ç½‘é¡µã€‚

![a63a9ba56050bad1ba09a6bc5545df50.png](https://cdn.pkmer.cn/images/a63a9ba56050bad1ba09a6bc5545df50.png!pkmer)

Eagle æä¾›çš„æµè§ˆå™¨æ‹“å±•æ’ä»¶ [Eagle for Edge](https://microsoftedge.microsoft.com/addons/detail/eagle-for-edge/cfgchmkedjfehclfhhmgedljhcibojcm)ï¼Œä¸»è¦åŠŸèƒ½ä»‹ç»ï¼š

![61a3e937e6b45ecae669fe69562c5f0b.png](https://cdn.pkmer.cn/images/61a3e937e6b45ecae669fe69562c5f0b.png!pkmer)

- ä¿å­˜ä¸ºä¹¦ç­¾ï¼šå¯ä»¥æŠŠç½‘é¡µå‰ªè—åˆ° Eagle ä¸­ï¼Œä¸è¿‡ä¿å­˜çš„æ˜¯å¿«æ·æ–¹å¼ï¼Œå¦‚æœéœ€è¦ç¦»çº¿ä¿å­˜çš„è¯å¯ä»¥å€ŸåŠ©å¦å¤–ä¸€ä¸ªæµè§ˆå™¨æ‹“å±•æ’ä»¶ [Singfile](https://microsoftedge.microsoft.com/addons/detail/singlefile/efnbkdcfmcmnhlkaijjjmhjjgladedno)ï¼Œå¯ä»¥æŠŠç½‘é¡µç¦»çº¿ä¿å­˜åˆ°æœ¬åœ°ã€‚
	- PSï¼šç›´æ¥å¤åˆ¶é“¾æ¥ç²˜è´´åˆ° Eagle é‡Œé¢ä¹Ÿå¯ä»¥è·å–ç½‘é¡µçš„å¿«æ·æ–¹å¼ï¼Œåœ¨å†…éƒ¨æŸ¥çœ‹ï¼›
	- PSï¼šè¿™ä¸¤æ¬¾æ’ä»¶æˆ‘éƒ½æŒºå¼ºæ¨çš„ï¼Œé…åˆä½¿ç”¨æ•ˆæœæ‹‰æ»¡ï¼Œä¹Ÿå¯ä»¥ç­‰ Eagle æ”¯æŒç¦»çº¿ä¿å­˜ï¼Œä¸è¿‡ç›®å‰ä¿å­˜å¿«æ·æ–¹å¼ä¹ŸæŒºæ–¹ä¾¿ã€‚
- æ‰¹é‡æ”¶è—ã€åŒºåŸŸæˆªå›¾ã€å¯è§†èŒƒå›´æˆªå›¾ã€æ•´é¡µæˆªå›¾éƒ½æ˜¯æˆªå–ç½‘é¡µå›¾ç‰‡ï¼Œé€šè¿‡ Eagle for Edge æ’ä»¶æˆªå–çš„éƒ½å›é™„å¸¦ç½‘ç«™é“¾æ¥ï¼Œå¯ä»¥é…åˆä¸Šè¿° Excalidraw è„šæœ¬ä½¿ç”¨ï¼Œé€šè¿‡å›¾ç‰‡å®šä½åˆ°ç½‘é¡µã€‚

![f345fb679600dcdf7383e9e581251db3.gif](https://cdn.pkmer.cn/images/f345fb679600dcdf7383e9e581251db3.gif!pkmer)

### Billfish ç®¡ç†åº“å†… Excalidraw æ–‡ä»¶

Billfish å¯ä»¥è¯´æ˜¯ Obsidian æœ€å¥½çš„é™„ä»¶è¾…åŠ©ç®¡ç†å·¥å…·äº†ï¼Œé‡‡ç”¨æ–‡ä»¶å¤¹çš„ç»“æ„ï¼Œè€Œä¸”å¹¶ä¸ä¼šäº§ç”Ÿä»€ä¹ˆé…ç½®æ–‡ä»¶ã€‚

![8229552cf95b1175d3751d2493ebe995.gif](https://cdn.pkmer.cn/images/8229552cf95b1175d3751d2493ebe995.gif!pkmer)

Billfish æ˜¯ä¸ä¼šæ˜¾ç¤º Obsidian ç¬”è®°åº“ä¸­çš„ md ç¬”è®°çš„ï¼Œä¸»è¦æ˜¾ç¤ºå›¾ç‰‡ã€wordã€pptã€xmind ç­‰æ ¼å¼æ–‡ä»¶ã€‚

æˆ‘è®¾æƒ³ç”¨ Billfish ä¸“é—¨ç®¡ç† Excalidraw çš„å›¾å½¢åº“ï¼Œéœ€è¦å€ŸåŠ© Excalidraw è®¾ç½®ä¸­çš„è‡ªåŠ¨å¯¼å‡º PNG è®¾ç½®ï¼Œé€šè¿‡å›¾ç‰‡å»å®šä½ Excalidraw ç”»æ¿ã€‚

![1217acaa1d61e4c201b7fa3561cc9ce4.png](https://cdn.pkmer.cn/images/1217acaa1d61e4c201b7fa3561cc9ce4.png!pkmer)

é¦–å…ˆéœ€è¦äº†è§£ä¸€ä¸‹ Obsidian å¤–éƒ¨å›é“¾çš„æ„é€ ï¼ŒObsidian çš„å›é“¾æ„é€ å¾ˆç®€å•ï¼Œå°±æ˜¯ç¬”è®°åº“åå’Œç›¸å¯¹è·¯å¾„ã€‚

`obsidian://open?vault={ç¬”è®°åº“åç§°}&file={ç¬”è®°çš„ç›¸å¯¹è·¯å¾„(ä¸å¸¦åç¼€)}`ï¼Œä»¥ä¸‹ç”¨ Quicker ç®€å•å®ç°çš„æ–¹æ³•ï¼š

1. å…ˆè·å–é€‰ä¸­æ–‡ä»¶çš„è·¯å¾„ï¼›
2. å¯¹æ–‡ä»¶è·¯å¾„æ›¿æ¢å‰é¢çš„ç»å¯¹è·¯å¾„ä¸º Obsidian çš„å¤–éƒ¨å›é“¾ï¼Œæ³¨æ„ `{ç¬”è®°åº“åç§°}`ï¼Œæˆ‘çš„ä¸º PandaNotesï¼›
3. å°† Excalidraw è‡ªåŠ¨å¯¼å‡ºçš„ PNG çš„åç¼€ `.png` å»æ‰ï¼›
4. å°†è·¯å¾„ç¬¦å·è½¬ä¹‰ä¸€ä¸‹ï¼›
5. æ‰“å¼€é“¾æ¥

![ec0ada542b14b54a8c1280136a574237.png](https://cdn.pkmer.cn/images/ec0ada542b14b54a8c1280136a574237.png!pkmer)

å› ä¸º Billfish æœ¬æ¥å°±æ˜¯ç®¡ç†ç¬”è®°åº“å†…éƒ¨æ–‡ä»¶ï¼Œæ„é€ çš„æ­¥éª¤ä¹Ÿååˆ†ç®€å•ã€‚

## ä»¥å›¾æœå›¾

### Eagle æ’ä»¶ï¼šPinterest ä»¥å›¾æ‰¾å›¾

![95dc0269c5945f67883a449f1ce53a4e.png](https://cdn.pkmer.cn/images/95dc0269c5945f67883a449f1ce53a4e.png!pkmer)

é»˜è®¤çš„è°·æ­Œæœç´¢çš„å¿«æ·é”®æ˜¯ Shift + G

![def4c44db27daad01af8cae0b614b92c.png](https://cdn.pkmer.cn/images/def4c44db27daad01af8cae0b614b92c.png!pkmer)

é…åˆè°·æ­Œæœç´¢å¼•æ“è¿˜å¯ä»¥æå–å¹¶ç¿»è¯‘å›¾ç‰‡çš„æ–‡å­—ï¼š

![b6c4838af3d225a897fb72d694e24c08.png](https://cdn.pkmer.cn/images/b6c4838af3d225a897fb72d694e24c08.png!pkmer)

Eagle æä¾›çš„æ’ä»¶ä¸­å¿ƒç›®å‰åªæä¾›äº†ä¸€ä¸ªæ’ä»¶ï¼Œè¯šå¿ƒçš„å¸Œæœ›ä»¥ååŠŸèƒ½è¶Šæ¥è¶Šå¤šğŸ¥°ã€‚

### è‡ªå»ºå›¾ç‰‡å‘é‡å›¾ä»¥å›¾æœå›¾

é€šè¿‡æœ¬åœ°å›¾ç‰‡å»ºç«‹å‘é‡åº“å¯ä»¥ç”¨ GitHUb ä¸Šçš„é¡¹ç›®ï¼š[reverse\_image\_search](https://github.com/towhee-io/examples/tree/main/image/reverse_image_search)ï¼Œæ¥å»ºç«‹åå‘å›¾åƒæœç´¢ã€‚

![474af295caad95ed5a6b09839a836154.png](https://cdn.pkmer.cn/images/474af295caad95ed5a6b09839a836154.png!pkmer)

åå‘å›¾åƒæœç´¢å°†å›¾åƒä½œä¸ºè¾“å…¥ï¼Œå¹¶æ ¹æ®å…¶å†…å®¹æ£€ç´¢æœ€ç›¸ä¼¼çš„å›¾åƒã€‚è¯­ä¹‰å›¾åƒæœç´¢èƒŒåçš„åŸºæœ¬æ€æƒ³æ˜¯å°†æ¯ä¸ªå›¾åƒè¡¨ç¤ºä¸ºé¢„è®­ç»ƒæ·±åº¦å­¦ä¹ æ¨¡å‹æå–çš„ç‰¹å¾çš„åµŒå…¥ã€‚ç„¶åå¯ä»¥é€šè¿‡å­˜å‚¨å’Œæ¯”è¾ƒå›¾åƒåµŒå…¥æ¥æ‰§è¡Œå›¾åƒæ£€ç´¢ã€‚

![d85908a6d87e3502c59cca30e407bf05.png](https://cdn.pkmer.cn/images/d85908a6d87e3502c59cca30e407bf05.png!pkmer)

ç”±äºç¯å¢ƒé…ç½®æ¯”è¾ƒå¤æ‚ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†è®²è¿°äº†ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£å¯ä»¥ GitHUB ä¸ŠæŸ¥çœ‹å¹¶å®ç°ï¼Œä»¥ä¸‹æ˜¯å®ç°æ•ˆæœï¼š

![b1b6f480343f531afeeed363c5adbfc3.png](https://cdn.pkmer.cn/images/b1b6f480343f531afeeed363c5adbfc3.png!pkmer)

ä»¥ä¸Šå°±æ˜¯æˆ‘ç›®å‰æ¢ç´¢çš„å·¥ä½œæµï¼Œä¸»è¦é€šè¿‡ Eagle æ¥æ”¶é›†å’Œç®¡ç†ç´ æï¼Œç”¨ Excalidraw å¯¹å›¾ç‰‡ä»¥åŠå…¶ä»–ä¿¡æ¯åšç¬”è®°ï¼Œè¿™æ ·å°±ä¸ä¼šå±€é™äºçº¿æ€§ç¬”è®°ï¼Œç”¨ Billfish å¯¹ Obsidian ç¬”è®°åº“ä¸­ Excalidraw çš„ç”»æ¿è¿›è¡Œåˆ†ç±»ç®¡ç†ã€‚

å½“ç„¶è¿˜æ˜¯è¦ä»¥ Obsidian çš„åŒé“¾ä¸ºä¸»ï¼Œç”»æ¿ä¸»è¦æ•´ç†æ€è·¯çš„ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£ï¼Œæ¬¢è¿ä¸€èµ·è®¨è®ºğŸ˜ã€‚
